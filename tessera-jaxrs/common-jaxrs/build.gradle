plugins {
  id "java-library"
}

dependencies {

  implementation project(":tessera-jaxrs:jaxrs-client")
  implementation project(":tessera-core")
  implementation project(":tessera-data")
  implementation project(":tessera-context")
  implementation project(":tessera-partyinfo")
  implementation project(":enclave:enclave-api")
  implementation project(":config")
  implementation project(":shared")
  implementation project(":encryption:encryption-api")

  constraints {
    implementation("com.fasterxml.jackson.core:jackson-databind:$jacksonDatabindVersion") {
      because 'databind less than 2.13.2.2 has a bug'
    }
  }

  implementation "jakarta.ws.rs:jakarta.ws.rs-api"

  implementation "jakarta.validation:jakarta.validation-api"

  implementation "jakarta.xml.bind:jakarta.xml.bind-api"
  implementation "org.apache.commons:commons-lang3"
  implementation "jakarta.persistence:jakarta.persistence-api"
  testImplementation project(":server:jersey-server")
  api "jakarta.inject:jakarta.inject-api"
  api "org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api"

  implementation "io.swagger.core.v3:swagger-annotations-jakarta"
  implementation "io.swagger.core.v3:swagger-core-jakarta"
  implementation "io.swagger.parser.v3:swagger-parser-v3"
  implementation "io.swagger.core.v3:swagger-jaxrs2-jakarta"
}

test {
  systemProperty "project.version", project.version
}

jar {

  manifest {
    attributes(
      "Implementation-Title": project.name,
      "Implementation-Version": project.version,
      "Specification-Version": String.valueOf(project.version).replaceAll("-SNAPSHOT","")
      )
  }
}
